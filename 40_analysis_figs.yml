target_default: 40_analysis_figs

packages:
  - EGRET
  - EGRETci

include: 34_analyze_data_groups_monthly.yml

sources:
  - 30_analyze_data/code/plot_conc_flux.R
  - 40_analysis_figs/src/plot_monthly_change.R
  - 40_analysis_figs/src/plot_annuals.R
  
targets:
  40_analysis_figs:
    depends:
      - monthly_targets

  all_targets:
    command: list_targets(remake_file = '34_analyze_data_groups_monthly.yml')
    
  monthly_targets:
    command: grep(I('tp_groups_'), all_targets, value = TRUE)
    
  figures/monthly_fig_conc.png:
    command: create_monthly_fig(fig_dat = monthly_targets, fig_name = target_name, fig_height = 4, fig_width = 6, type = I('conc'))
    
  figures/monthly_fig_percent.png:
    command: create_monthly_fig(fig_dat = monthly_targets, fig_name = target_name, fig_height = 4, fig_width = 6, type = I('perc'))
    
  figures/monthly_fig_flux.png:
    command: create_monthly_fig(fig_dat = monthly_targets, fig_name = target_name, fig_height = 4, fig_width = 6, type = I('flux'))
    
  figures/annual_tp_flux.png:
    command: plot_flux_annuals(target_name, tp_wy_out, tp_wy_out_boot, unit = 8)
    
  figures/annual_orthop_flux.png:
    command: plot_flux_annuals(target_name, ortho_p_filt_wy_out, ortho_p_filt_wy_out_boot, unit = 8)
  
  figures/annual_ss_flux.png:
    command: plot_flux_annuals(target_name, ss_wy_out, ss_wy_out_boot, unit = 8)
       