target_default: 10_get_data

packages:
  - dataRetrieval
  - yaml
  - EGRET
  
sources:
  
targets:
  10_get_data:
    depends:
      - discharge
      - discharge_info
      - tp
      - tp_info
      - ortho_p_filt
      - ortho_p_filt_info
      - ortho_p_unfilt
      - diss_p
      - ss
      - ss_info

  config:
    command: yaml.load_file('10_get_data/config/dataRetrieval_config.yml')
      
  site_no:
    command: config[['site_no']]
      
  pcodes:
    command: config[['pcodes']]
      
  start_date:
    command: config[['start_date']]
      
  end_date:
    command: config[['end_date']]
      
  discharge:
    command: readNWISDaily(siteNumber = site_no, startDate = start_date, endDate = end_date)
    
  discharge_info:
    command: readNWISInfo(siteNumber = site_no, parameterCd = I('00060'))
     
  tp:
    command: readNWISSample(siteNumber = site_no, parameterCd = I('00665'), startDate = start_date, endDate = end_date)
    
  tp_info:
    command: readNWISInfo(siteNumber = site_no, parameterCd = I('00665'))
    
  ortho_p_filt:
    command: readNWISSample(siteNumber = site_no, parameterCd = I('00671'), startDate = start_date, endDate = end_date)
    
  ortho_p_filt_info:
    command: readNWISInfo(siteNumber = site_no, parameterCd = I('00671'))
    
  ortho_p_unfilt:
    command: readNWISSample(siteNumber = site_no, parameterCd = I('70507'), startDate = start_date, endDate = end_date)
    
  diss_p:
    command: readNWISSample(siteNumber = site_no, parameterCd = I('00666'), startDate = start_date, endDate = end_date)
    
  ss:
    command: readNWISSample(siteNumber = site_no, parameterCd = I('80154'), startDate = start_date, endDate = end_date)
    
  ss_info:
    command: readNWISInfo(site_no, I('80154'))
